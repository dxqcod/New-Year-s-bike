# üö® –ì–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –æ–≥–Ω–∏ –Ω–∞ –∞–¥—Ä–µ—Å—É–µ–º—ã—Ö —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞—Ö

<p align="center">
  <a href="docs /photo/seeed-xiao-ble-sense.jpg">
    <img src="docs /photo/seeed-xiao-ble-sense.jpg" alt="Seeed XIAO nRF52840 Sense" width="400" />
  </a>
</p>

<p align="center">
  <i>–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –≥–∞–±–∞—Ä–∏—Ç–Ω—ã–µ –æ–≥–Ω–∏ –¥–ª—è –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞ ‚Äî –≤–∫–ª—é—á–∞—é—Ç—Å—è –æ—Ç –¥–≤–∏–∂–µ–Ω–∏—è, –≥–∞—Å–Ω—É—Ç –ø—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ. –ë–µ–∑ –∫–Ω–æ–ø–æ–∫!</i>
</p>

---

## üéØ –ò–¥–µ—è –ø—Ä–æ–µ–∫—Ç–∞

–î–≤–µ –ª–µ–Ω—Ç—ã WS2812B (–ø–æ 23 —Å–≤–µ—Ç–æ–¥–∏–æ–¥–∞) —É–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –º–∏–Ω–∏–∞—Ç—é—Ä–Ω—ã–º **Seeed Studio XIAO nRF52840 Sense**.  
–í–∫–ª—é—á–µ–Ω–∏–µ/–≤—ã–∫–ª—é—á–µ–Ω–∏–µ ‚Äî –ø–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–º—É –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä—É LSM6DS3.

- –ü—Ä–∏ –¥–≤–∏–∂–µ–Ω–∏–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–∞ –æ–≥–Ω–∏ –∑–∞–∂–∏–≥–∞—é—Ç—Å—è –∏ –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç 8 —Ä–∞–∑–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤ –∫–∞–∂–¥—ã–µ 4 —Å–µ–∫—É–Ω–¥—ã.  
- –ü—Ä–∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 30 —Å–µ–∫—É–Ω–¥ ‚Äî –ø–ª–∞–≤–Ω–æ –≥–∞—Å–Ω—É—Ç.  
- –ù–∏–∫–∞–∫–∏—Ö –∫–Ω–æ–ø–æ–∫, –º–∏–Ω–∏–º—É–º –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –≤ –ø–æ–∫–æ–µ.

–ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è –∑–∞–¥–Ω–∏—Ö/–±–æ–∫–æ–≤—ã—Ö –≥–∞–±–∞—Ä–∏—Ç–æ–≤: –≤–∏–¥–Ω–æ –∏–∑–¥–∞–ª–µ–∫–∞, –Ω–µ –æ—Ç–≤–ª–µ–∫–∞–µ—Ç –æ—Ç –µ–∑–¥—ã.

---

## ‚öôÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–µ—Ç–µ–∫—Ü–∏—è –¥–≤–∏–∂–µ–Ω–∏—è

–ü—Ä–æ–≥—Ä–∞–º–º–∞ –∫–∞–∂–¥—ã–µ 100 –º—Å —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞.  
–ß—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π –æ—Ç —Ç—Ä—è—Å–∫–∏:

- –°—á–∏—Ç–∞–µ—Ç—Å—è –≤–µ–∫—Ç–æ—Ä–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞ —É—Å–∫–æ—Ä–µ–Ω–∏–π –ø–æ –æ—Å—è–º X/Y/Z.  
- –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–µ > 0.02 g ‚Äî –Ω–∞—á–∏—Å–ª—è–µ—Ç—Å—è "–æ—á–∫–æ" –¥–≤–∏–∂–µ–Ω–∏—è.  
- –ù—É–∂–Ω–æ –Ω–∞–±—Ä–∞—Ç—å **30 –æ—á–∫–æ–≤** –ø–æ–¥—Ä—è–¥ ‚Üí –æ–≥–Ω–∏ –≤–∫–ª—é—á–∞—é—Ç—Å—è –∏ –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Ç–∞–π–º–µ—Ä –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏.  
- –ï—Å–ª–∏ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –Ω–µ—Ç 30 —Å–µ–∫—É–Ω–¥ ‚Üí –æ–≥–Ω–∏ –≥–∞—Å–Ω—É—Ç.

–ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ª–µ–≥–∫–æ –º–µ–Ω—è—Ç—å –≤ –Ω–∞—á–∞–ª–µ –∫–æ–¥–∞:
```cpp
const float MOVEMENT_THRESHOLD = 0.02;      // –ß—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
const unsigned long INACTIVITY_TIMEOUT = 30000; // –í—Ä–µ–º—è –∞–≤—Ç–æ–æ—Ç–∫–ª—é—á–µ–Ω–∏—è
```
---

## ‚ú® –≠—Ñ—Ñ–µ–∫—Ç—ã (8 —à—Ç—É–∫, –ø–µ—Ä–µ–∫–ª—é—á–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

–í—Å–µ —ç—Ñ—Ñ–µ–∫—Ç—ã —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã –Ω–∞ –æ–±–µ–∏—Ö –ª–µ–Ω—Ç–∞—Ö, –º–∞–∫—Å–∏–º—É–º 5 —Å–≤–µ—Ç–æ–¥–∏–æ–¥–æ–≤ –≥–æ—Ä—è—Ç –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ.

1. **–ö—Ä–∞—Å–Ω—ã–π –±–µ–≥—É–Ω–æ–∫**  
   5 –∫—Ä–∞—Å–Ω—ã—Ö –¥–∏–æ–¥–æ–≤ –±–µ–≥—É—Ç –ø–æ –∫—Ä—É–≥—É

2. **–ó–µ–ª—ë–Ω—ã–π –±–µ–≥—É–Ω–æ–∫**  
   5 –∑–µ–ª—ë–Ω—ã—Ö –¥–∏–æ–¥–æ–≤ –±–µ–≥—É—Ç –ø–æ –∫—Ä—É–≥—É

3. **–°–∏–Ω–∏–π –±–µ–≥—É–Ω–æ–∫**  
   5 —Å–∏–Ω–∏—Ö –¥–∏–æ–¥–æ–≤ –±–µ–≥—É—Ç –ø–æ –∫—Ä—É–≥—É

4. **–†–∞–¥—É–∂–Ω—ã–π –±–µ–≥—É–Ω–æ–∫**  
   —Ü–≤–µ—Ç–∞ –ø–ª–∞–≤–Ω–æ –º–µ–Ω—è—é—Ç—Å—è –ø–æ —Å–ø–µ–∫—Ç—Ä—É

5. **–°–ª—É—á–∞–π–Ω—ã–µ –∏—Å–∫—Ä—ã**  
   1‚Äì4 –±–µ–ª—ã–µ –≤—Å–ø—ã—à–∫–∏ –≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

6. **–ü—Ä—ã–≥–∞—é—â–∏–π –±–ª–æ–∫**  
   —Å–≤–µ—Ç–ª–æ-–∑–µ–ª—ë–Ω—ã–π –±–ª–æ–∫ –∏–∑ 5 –¥–∏–æ–¥–æ–≤ –æ—Ç—Å–∫–∞–∫–∏–≤–∞–µ—Ç –æ—Ç –∫–æ–Ω—Ü–æ–≤ –ª–µ–Ω—Ç—ã

7. **–ú–µ—Ä—Ü–∞–Ω–∏–µ**  
   –º—è–≥–∫–∏–µ –∂—ë–ª—Ç–æ-–±–µ–ª—ã–µ –≤—Å–ø—ã—à–∫–∏ –≤ —Å–ª—É—á–∞–π–Ω—ã—Ö –º–µ—Å—Ç–∞—Ö

8. **–†–∞–¥—É–∂–Ω–∞—è –∫–æ–º–µ—Ç–∞**  
   —Ö–≤–æ—Å—Ç –∏–∑ 5 —Ä–∞–∑–Ω–æ—Ü–≤–µ—Ç–Ω—ã—Ö –¥–∏–æ–¥–æ–≤ —Å –ø–ª–∞–≤–Ω—ã–º –≥—Ä–∞–¥–∏–µ–Ω—Ç–æ–º

–≠—Ñ—Ñ–µ–∫—Ç –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–µ 4 —Å–µ–∫—É–Ω–¥—ã.  
–ü—Ä–∏ —Å–º–µ–Ω–µ —ç—Ñ—Ñ–µ–∫—Ç–∞ –ª–µ–Ω—Ç—ã –ø–æ–ª–Ω–æ—Å—Ç—å—é –æ—á–∏—â–∞—é—Ç—Å—è ‚Äî –ø–µ—Ä–µ—Ö–æ–¥ —á–∏—Å—Ç—ã–π –∏ –±–µ–∑ ¬´—Ö–≤–æ—Å—Ç–æ–≤¬ª.

---

## üñº –§–æ—Ç–æ –∏ –≤–∏–¥–µ–æ

  –ù–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ


  –ö—Ä—É–ø–Ω—ã–π –ø–ª–∞–Ω


  <video width="600" controls>
    <source src="docs/video/demo_night.mp4" type="video/mp4">
    –í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–∏–¥–µ–æ.
  </video>
---

## üîß –ê–ø–ø–∞—Ä–∞—Ç–Ω–∞—è —á–∞—Å—Ç—å

–ú–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä: Seeed Studio XIAO nRF52840 Sense
–°–≤–µ—Ç–æ–¥–∏–æ–¥—ã: 2 √ó WS2812B –ø–æ 23 —à—Ç. (–º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å NUM_LEDS)
–ü–∏–Ω—ã –¥–∞–Ω–Ω—ã—Ö:
–ü–µ—Ä–≤–∞—è –ª–µ–Ω—Ç–∞ ‚Üí Pin 3
–í—Ç–æ—Ä–∞—è –ª–µ–Ω—Ç–∞ ‚Üí Pin 6

–ü–∏—Ç–∞–Ω–∏–µ: –í –º–æ–µ–º —Å–ª—É—á–∞–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä 18650, –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–π –∫ –≤—ã–≤–æ–¥–∞–º "BAT" –Ω–∞ –ø–ª–∞—Ç–µ –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞. –ü–ª–¥–∞—Ç–∞ –∏–º–µ–µ—Ç –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∑–∞—Ä—è–¥–∞, —á—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∑–∞—Ä—è–∂–∞—Ç—å –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä —á–µ—Ä–µ–∑ —Ä–∞–∑—å–µ–º Type-c –º–∏–∫—Ä–æ–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä–∞, –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –µ–≥–æ —Å–Ω—è—Ç–∏—è. –†–∞–∑—É–º–µ–µ—Ç—Å—è –≤–æ–∑–º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∏ –¥—Ä—É–≥–∏—Ö —Ç–∏–ø–æ–≤ –∞–∫–∫—É–º—É–ª—è—Ç–æ—Ä–æ–≤.
–Ø—Ä–∫–æ—Å—Ç—å: —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–∞—è 150 (–∏–∑ 255) ‚Äî –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤ setup()

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
```
New-Year-s-bike/                  # –∫–æ—Ä–µ–Ω—å —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
‚îú‚îÄ‚îÄ README.md                     # –≠—Ç–æ –æ–ø–∏—Å–∞–Ω–∏–µ
‚îú‚îÄ‚îÄ LICENSE                       # MIT License
‚îú‚îÄ‚îÄ .gitignore
‚îÇ
‚îú‚îÄ‚îÄ docs/                         # –§–æ—Ç–æ, –≤–∏–¥–µ–æ, —Å—Ö–µ–º—ã
‚îÇ   ‚îú‚îÄ‚îÄ photo/
‚îÇ   ‚îú‚îÄ‚îÄ video/
‚îÇ   
‚îÇ
‚îî‚îÄ‚îÄ src/                           # –ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥
    ‚îî‚îÄ‚îÄ bike_lights_nRF52840.ino   # –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–≥—Ä–∞–º–º–∞ (Arduino)
```
---

## üíª –ü—Ä–æ–≥—Ä–∞–º–º–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ

–ö–æ–¥ –Ω–∞–ø–∏—Å–∞–Ω –ø–æ–¥ **Arduino IDE** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ **Adafruit NeoPixel**.

–û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª:  
[`src/bike_lights_nRF52840.ino`](src/bike_lights_nRF52840.ino)

**–û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ –∫–æ–¥–∞:**

- –í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ  
- –ö–æ–º–ø–∞–∫—Ç–Ω—ã–π: ~300 —Å—Ç—Ä–æ–∫, –≤—Å—ë –≤ –æ–¥–Ω–æ–º —Ñ–∞–π–ª–µ ‚Äî –ª–µ–≥–∫–æ —á–∏—Ç–∞—Ç—å –∏ –ø—Ä–∞–≤–∏—Ç—å  
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–µ–Ω–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ **Adafruit NeoPixel**  
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —ç–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ: –≤ —Ä–µ–∂–∏–º–µ –ø–æ–∫–æ—è —Ç–æ–ª—å–∫–æ –ø–µ—Ä–∏–æ–¥–∏—á–µ—Å–∫–∏–π –æ–ø—Ä–æ—Å –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞  
- –õ–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è: —á—Ç–æ–±—ã –¥–æ–±–∞–≤–∏—Ç—å –Ω–æ–≤—ã–π —ç—Ñ—Ñ–µ–∫—Ç ‚Äî –ø—Ä–æ—Å—Ç–æ –¥–æ–ø–∏—à–∏ –Ω–æ–≤—ã–π `case` –≤ `switch`  


---

## üöÄ –ö–∞–∫ —Å–æ–±—Ä–∞—Ç—å –∏ –ø—Ä–æ—à–∏—Ç—å

–£—Å—Ç–∞–Ω–æ–≤–∏ Arduino IDE
–î–æ–±–∞–≤—å –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–ª–∞—Ç—ã:
–í –ù–∞—Å—Ç—Ä–æ–π–∫–∞—Ö ‚Üí –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Å—Å—ã–ª–∫–∏ ‚Üí
https://files.seeedstudio.com/arduino/package_seeed.json
–£—Å—Ç–∞–Ω–æ–≤–∏ –ø–ª–∞—Ç—É Seeed XIAO nRF52840 –∏ –±–∏–±–ª–∏–æ—Ç–µ–∫—É Adafruit NeoPixel
–ü–æ–¥–∫–ª—é—á–∏ XIAO –ø–æ USB (–¥–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ RESET –¥–ª—è bootloader)
–û—Ç–∫—Ä–æ–π —Å–∫–µ—Ç—á –∏–∑ src/
–ü—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –∏–∑–º–µ–Ω–∏:
NUM_LEDS ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–∏–æ–¥–æ–≤
PIN1 / PIN2 ‚Äî –ø–∏–Ω—ã –¥–∞–Ω–Ω—ã—Ö
MOVEMENT_THRESHOLD ‚Äî —á—É–≤—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

–ó–∞–≥—Ä—É–∑–∏ –Ω–∞ –ø–ª–∞—Ç—É

–ì–æ—Ç–æ–≤–æ! –ö—Ä–µ–ø–∏ –Ω–∞ –≤–µ–ª–æ—Å–∏–ø–µ–¥ –∏ –Ω–∞—Å–ª–∞–∂–¥–∞–π—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–æ–¥—Å–≤–µ—Ç–∫–æ–π üö¥‚Äç‚ôÇÔ∏è‚ú®

---

## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –¥–æ—Ä–∞–±–æ—Ç–∫–∏ (–µ—Å–ª–∏ –∑–∞—Ö–æ—á–µ—à—å)

–î–æ–±–∞–≤–∏—Ç—å —Ä–µ–∂–∏–º –Ω–∏–∑–∫–æ–π —è—Ä–∫–æ—Å—Ç–∏ –Ω–æ—á—å—é (–ø–æ –¥–∞–Ω–Ω—ã–º —Å –¥–∞—Ç—á–∏–∫–∞ –æ—Å–≤–µ—â—ë–Ω–Ω–æ—Å—Ç–∏ –Ω–∞ XIAO)
–°–¥–µ–ª–∞—Ç—å Bluetooth-—É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ (nRF52840 –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç BLE)
–î–æ–±–∞–≤–∏—Ç—å —ç—Ñ—Ñ–µ–∫—Ç "—Å—Ç–æ–ø-—Å–∏–≥–Ω–∞–ª" ‚Äî —è—Ä–∫–æ-–∫—Ä–∞—Å–Ω—ã–π –ø—Ä–∏ —Ä–µ–∑–∫–æ–º —Ç–æ—Ä–º–æ–∂–µ–Ω–∏–∏
–ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ FastLED –¥–ª—è –µ—â—ë –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —ç—Ñ—Ñ–µ–∫—Ç–æ–≤

–ï—Å–ª–∏ —Å–¥–µ–ª–∞–µ—à—å ‚Äî –∫–∏–Ω—å pull request üòé

–í–æ–ø—Ä–æ—Å—ã, –∏–¥–µ–∏, –±–∞–≥–∏ ‚Äî –ø–∏—à–∏ –≤ Issues.
–Ø—Ä–∫–∏—Ö –∏ –±–µ–∑–æ–ø–∞—Å–Ω—ã—Ö –ø–æ–µ–∑–¥–æ–∫!


## ‚öñÔ∏è –õ–∏—Ü–µ–Ω–∑–∏—è
–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π [MIT](LICENSE).
